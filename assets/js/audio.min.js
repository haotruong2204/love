$(function(){var t,e,a,n,i,o,s,r,c,l,u,f,m=$("#player-track"),d=$("#album-name"),p=$("#track-name"),v=$("#album-art"),h=$("#s-area"),g=$("#seek-bar"),C=$("#track-time"),_=$("#ins-time"),x=$("#s-hover"),w=$("#play-pause-button"),b=w.find("i"),y=$("#current-time"),k=$("#track-length"),T=0,A=null,P=!1,D=["\xc1nh Nắng Của Anh","Hơn Cả Y\xeau",],H=["Đức Ph\xfac",],I=["_1","_2"],N=["https://github.com/haotruong2204/haonhung/raw/main/app/assets/Anh-nang-cua-anh-Duc-Phuc.mp3","https://github.com/haotruong2204/haonhung/raw/main/app/assets/hon-ca-yeu.mp3",],O=$("#play-previous"),W=$("#play-next"),X=-1;function Y(){x.width(0),_.text("00:00").css({left:"0px","margin-left":"0px"}).fadeOut(0)}function j(){clearInterval(A),A=setInterval(function(){0==T||f-T>1e3?v.addClass("buffering"):v.removeClass("buffering"),f=(f=new Date).getTime()},100)}function q(t){0==t||1==t?++X:--X,X>-1&&X<I.length?(0==t?b.attr("class","ti-control-play"):(v.removeClass("buffering"),b.attr("class","ti-control-pause")),g.width(0),C.removeClass("active"),y.text("00:00"),k.text("00:00"),currAlbum=D[X],currTrackName=H[X],currArtwork=I[X],audio.src=N[X],audio.preload="none",T=0,f=(f=new Date).getTime(),0!=t&&(audio.play(),m.addClass("active"),v.addClass("active"),clearInterval(A),j()),d.text(currAlbum),p.text(currTrackName),v.find("img.active").removeClass("active"),$("#"+currArtwork).addClass("active")):0==t||1==t?--X:++X}audio=new Audio,q(0),audio.loop=!1,w.on("click",function t(){setTimeout(function(){audio.paused?(m.addClass("active"),v.addClass("active"),j(),b.attr("class","ti-control-pause"),audio.play()):(m.removeClass("active"),v.removeClass("active"),clearInterval(A),v.removeClass("buffering"),b.attr("class","ti-control-play"),audio.pause())},300)}),h.mousemove(function(s){var r;r=s,a=h.offset(),t=r.clientX-a.left,e=audio.duration*(t/h.outerWidth()),x.width(t),i=Math.floor(n=e/60),o=Math.floor(e-60*i),!(i<0)&&!(o<0)&&(i<0||o<0||(i<10&&(i="0"+i),o<10&&(o="0"+o),isNaN(i)||isNaN(o)?_.text("--:--"):_.text(i+":"+o),_.css({left:t,"margin-left":"-21px"}).fadeIn(0)))}),h.mouseout(Y),h.on("click",function a(){audio.currentTime=e,g.width(t),Y()}),$(audio).on("timeupdate",function t(){T=(T=new Date).getTime(),P||(P=!0,C.addClass("active")),s=Math.floor(audio.currentTime/60),r=Math.floor(audio.currentTime-60*s),c=Math.floor(audio.duration/60),l=Math.floor(audio.duration-60*c),u=audio.currentTime/audio.duration*100,s<10&&(s="0"+s),r<10&&(r="0"+r),c<10&&(c="0"+c),l<10&&(l="0"+l),isNaN(s)||isNaN(r)?y.text("00:00"):y.text(s+":"+r),isNaN(c)||isNaN(l)?k.text("00:00"):k.text(c+":"+l),isNaN(s)||isNaN(r)||isNaN(c)||isNaN(l)?C.removeClass("active"):C.addClass("active"),g.width(u+"%"),100==u&&(b.attr("class","ti-control-play"),g.width(0),y.text("00:00"),v.removeClass("buffering").removeClass("active"),clearInterval(A))}),O.on("click",function(){q(-1)}),W.on("click",function(){q(1)})});